{
  "id": 190,
  "repo": "envoy",
  "issue_url": "https://github.com/envoyproxy/envoy/pull/39794",
  "pr_url": "https://github.com/envoyproxy/envoy/pull/39794",
  "issue_description": "[PR Linked Issue]\nFew of recent ci runs have failures for `//test/extensions/filters/http/alternate_protocols_cache:filter_integration_test`:\nhttps://github.com/envoyproxy/envoy/actions/runs/15444829526/job/43471494796\nhttps://github.com/envoyproxy/envoy/actions/runs/15439887326/job/43454992923\nci log:\n```\n[ RUN      ] Protocols/MixedUpstreamIntegrationTest.BasicRequestAutoWithHttp3/IPv4_Http2Downstream_Http3UpstreamHttpParserNghttp2Legacy\ntest/extensions/filters/http/alternate_protocols_cache/filter_integration_test.cc:536: Failure\nExpected: (getSrtt(alt_svc, timeSystem())) != (0), actual: 0 vs 0\nAlt-svc entry :''\nStack trace:\n  0xaaaad262aa0c: Envoy::(anonymous namespace)::MixedUpstreamIntegrationTest_BasicRequestAutoWithHttp3_Test::TestBody()\n  0xaaaad3ad4224: testing::internal::HandleExceptionsInMethodIfSupported<>()\n  0xaaaad3ad40c0: testing::Test::Run()\n  0xaaaad3ad528c: testing::TestInfo::Run()\n... Google Test internal frames ...\n\n[external/com_google_absl/absl/flags/internal/flag.cc : 147] RAW: Restore saved value of envoy_quic_always_support_server_preferred_address to: true\n[external/com_google_absl/absl/flags/internal/flag.cc : 147] RAW: Restore saved value of envoy_reloadable_features_enable_universal_header_validator to: false\n[external/com_google_absl/absl/flags/internal/flag.cc : 147] RAW: Restore saved value of envoy_reloadable_features_http1_use_balsa_parser to: true\n[external/com_google_absl/absl/flags/internal/flag.cc : 147] RAW: Restore saved value of envoy_reloadable_features_http2_use_oghttp2 to: true\n[external/com_google_absl/absl/flags/internal/flag.cc : 147] RAW: Restore saved value of envoy_reloadable_features_no_extension_lookup_by_name to: true\n[external/com_google_absl/absl/flags/internal/flag.cc : 147] RAW: Restore saved value of envoy_reloadable_features_runtime_initialized to: false\n[external/com_google_absl/absl/flags/internal/flag.cc : 147] RAW: Restore saved value of envoy_quic_always_support_server_preferred_address to: true\n[external/com_google_absl/absl/flags/internal/flag.cc : 147] RAW: Restore saved value of envoy_reloadable_features_enable_universal_header_validator to: false\n[external/com_google_absl/absl/flags/internal/flag.cc : 147] RAW: Restore saved value of envoy_reloadable_features_http1_use_balsa_parser to: true\n[external/com_google_absl/absl/flags/internal/flag.cc : 147] RAW: Restore saved value of envoy_reloadable_features_http2_use_oghttp2 to: true\n[external/com_google_absl/absl/flags/internal/flag.cc : 147] RAW: Restore saved value of envoy_reloadable_features_no_extension_lookup_by_name to: true\n[external/com_google_absl/absl/flags/internal/flag.cc : 147] RAW: Restore saved value of envoy_reloadable_features_runtime_initialized to: false\n[  FAILED  ] Protocols/MixedUpstreamIntegrationTest.BasicRequestAutoWithHttp3/IPv4_Http2Downstream_Http3UpstreamHttpParserNghttp2Legacy, where GetParam() = 24-byte object <00-00 00-00 01-00 00-00 02-00 00-00 00-00 00-00 00-00 00-00 00-00 00-00> (571 ms)\n```",
  "files_changed": [
    {
      "filename": "test/extensions/filters/http/alternate_protocols_cache/filter_integration_test.cc",
      "status": "modified",
      "patch": "@@ -523,7 +523,7 @@ TEST_P(MixedUpstreamIntegrationTest, BasicRequestAutoWithHttp3) {\n   std::string alt_svc;\n \n   // Make sure the srtt gets updated to a non-zero value.\n-  for (int i = 0; i < 5; ++i) {\n+  for (int i = 0; i < 20; ++i) {\n     // Make sure that srtt is updated.\n     const std::string filename = TestEnvironment::temporaryPath(\"alt_svc_cache.txt\");\n     alt_svc = TestEnvironment::readFileToStringForTest(filename);"
    }
  ],
  "fix_category": "WaitFor",
  "root_cause_category": "Async wait",
  "root_cause_subcategory": NaN
}