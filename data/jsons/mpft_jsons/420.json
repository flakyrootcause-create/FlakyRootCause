{
  "id": 420,
  "repo": "jetty.project",
  "issue_url": "https://github.com/jetty/jetty.project/pull/13531",
  "pr_url": "https://github.com/jetty/jetty.project/pull/13531",
  "issue_description": "Fixes #13526",
  "files_changed": [
    {
      "filename": "jetty-ee10/jetty-ee10-websocket/jetty-ee10-websocket-jakarta-tests/src/main/java/org/eclipse/jetty/ee10/websocket/jakarta/tests/WebSocketTester.java",
      "status": "modified",
      "patch": "@@ -210,13 +210,13 @@ public void expectMessage(BlockingQueue<Frame> framesQueue, byte expectedDataOp,\n     {\n         ByteBuffer actualPayload = ByteBuffer.allocate(expectedMessage.remaining());\n \n-        Frame frame = framesQueue.poll(1, TimeUnit.SECONDS);\n+        Frame frame = framesQueue.poll(5, TimeUnit.SECONDS);\n         assertThat(\"Initial Frame.opCode\", frame.getOpCode(), is(expectedDataOp));\n \n         actualPayload.put(frame.getPayload());\n         while (!frame.isFin())\n         {\n-            frame = framesQueue.poll(1, TimeUnit.SECONDS);\n+            frame = framesQueue.poll(5, TimeUnit.SECONDS);\n             assertThat(\"Frame.opCode\", frame.getOpCode(), is(OpCode.CONTINUATION));\n             actualPayload.put(frame.getPayload());\n         }\n@@ -234,7 +234,7 @@ public void assertExpected(BlockingQueue<Frame> framesQueue, List<Frame> expect)\n             prefix = \"Frame[\" + i + \"]\";\n \n             Frame expected = expect.get(i);\n-            Frame actual = framesQueue.poll(3, TimeUnit.SECONDS);\n+            Frame actual = framesQueue.poll(5, TimeUnit.SECONDS);\n             assertThat(prefix + \".poll\", actual, notNullValue());\n \n             if (LOG.isDebugEnabled())\n@@ -359,7 +359,7 @@ public void writeRaw(ByteBuffer buffer) throws IOException\n         {\n             try\n             {\n-                assertTrue(openLatch.await(1, TimeUnit.SECONDS));\n+                assertTrue(openLatch.await(5, TimeUnit.SECONDS));\n             }\n             catch (InterruptedException e)\n             {"
    },
    {
      "filename": "jetty-ee11/jetty-ee11-websocket/jetty-ee11-websocket-jakarta-tests/src/main/java/org/eclipse/jetty/ee11/websocket/jakarta/tests/WebSocketTester.java",
      "status": "modified",
      "patch": "@@ -210,13 +210,13 @@ public void expectMessage(BlockingQueue<Frame> framesQueue, byte expectedDataOp,\n     {\n         ByteBuffer actualPayload = ByteBuffer.allocate(expectedMessage.remaining());\n \n-        Frame frame = framesQueue.poll(1, TimeUnit.SECONDS);\n+        Frame frame = framesQueue.poll(5, TimeUnit.SECONDS);\n         assertThat(\"Initial Frame.opCode\", frame.getOpCode(), is(expectedDataOp));\n \n         actualPayload.put(frame.getPayload());\n         while (!frame.isFin())\n         {\n-            frame = framesQueue.poll(1, TimeUnit.SECONDS);\n+            frame = framesQueue.poll(5, TimeUnit.SECONDS);\n             assertThat(\"Frame.opCode\", frame.getOpCode(), is(OpCode.CONTINUATION));\n             actualPayload.put(frame.getPayload());\n         }\n@@ -234,7 +234,7 @@ public void assertExpected(BlockingQueue<Frame> framesQueue, List<Frame> expect)\n             prefix = \"Frame[\" + i + \"]\";\n \n             Frame expected = expect.get(i);\n-            Frame actual = framesQueue.poll(3, TimeUnit.SECONDS);\n+            Frame actual = framesQueue.poll(5, TimeUnit.SECONDS);\n             assertThat(prefix + \".poll\", actual, notNullValue());\n \n             if (LOG.isDebugEnabled())\n@@ -359,7 +359,7 @@ public void writeRaw(ByteBuffer buffer) throws IOException\n         {\n             try\n             {\n-                assertTrue(openLatch.await(1, TimeUnit.SECONDS));\n+                assertTrue(openLatch.await(5, TimeUnit.SECONDS));\n             }\n             catch (InterruptedException e)\n             {"
    },
    {
      "filename": "jetty-ee9/jetty-ee9-websocket/jetty-ee9-websocket-jakarta-tests/src/main/java/org/eclipse/jetty/ee9/websocket/jakarta/tests/WebSocketTester.java",
      "status": "modified",
      "patch": "@@ -210,13 +210,13 @@ public void expectMessage(BlockingQueue<Frame> framesQueue, byte expectedDataOp,\n     {\n         ByteBuffer actualPayload = ByteBuffer.allocate(expectedMessage.remaining());\n \n-        Frame frame = framesQueue.poll(1, TimeUnit.SECONDS);\n+        Frame frame = framesQueue.poll(5, TimeUnit.SECONDS);\n         assertThat(\"Initial Frame.opCode\", frame.getOpCode(), is(expectedDataOp));\n \n         actualPayload.put(frame.getPayload());\n         while (!frame.isFin())\n         {\n-            frame = framesQueue.poll(1, TimeUnit.SECONDS);\n+            frame = framesQueue.poll(5, TimeUnit.SECONDS);\n             assertThat(\"Frame.opCode\", frame.getOpCode(), is(OpCode.CONTINUATION));\n             actualPayload.put(frame.getPayload());\n         }\n@@ -234,7 +234,7 @@ public void assertExpected(BlockingQueue<Frame> framesQueue, List<Frame> expect)\n             prefix = \"Frame[\" + i + \"]\";\n \n             Frame expected = expect.get(i);\n-            Frame actual = framesQueue.poll(3, TimeUnit.SECONDS);\n+            Frame actual = framesQueue.poll(5, TimeUnit.SECONDS);\n             assertThat(prefix + \".poll\", actual, notNullValue());\n \n             if (LOG.isDebugEnabled())\n@@ -359,7 +359,7 @@ public void writeRaw(ByteBuffer buffer) throws IOException\n         {\n             try\n             {\n-                assertTrue(openLatch.await(1, TimeUnit.SECONDS));\n+                assertTrue(openLatch.await(5, TimeUnit.SECONDS));\n             }\n             catch (InterruptedException e)\n             {"
    }
  ],
  "fix_category": "WaitFor",
  "root_cause_category": "Async wait",
  "root_cause_subcategory": NaN
}