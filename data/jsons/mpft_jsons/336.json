{
  "id": 336,
  "repo": "ladybird",
  "issue_url": "https://github.com/LadybirdBrowser/ladybird/commit/12ca074671afc10a1209e28e338c55f00ae1abe2",
  "pr_url": "https://github.com/LadybirdBrowser/ladybird/commit/12ca074671afc10a1209e28e338c55f00ae1abe2",
  "issue_description": "Let's test CI..",
  "files_changed": [
    {
      "filename": ".clang-tidy",
      "status": "modified",
      "patch": "@@ -46,7 +46,7 @@ Checks: >\n   -readability-uppercase-literal-suffix,\n   -readability-use-anyofallof,\n WarningsAsErrors: ''\n-HeaderFilterRegex: 'AK|Userland|Kernel|Tests'\n+HeaderFilterRegex: 'AK|Userland|Tests'\n FormatStyle: none\n CheckOptions:\n   - key: bugprone-dangling-handle.HandleClasses"
    },
    {
      "filename": ".devcontainer/devcontainer.json",
      "status": "modified",
      "patch": "@@ -6,10 +6,8 @@\n     \"features\": {\n         \"ghcr.io/devcontainers/features/github-cli:1\": {},\n         \"ghcr.io/devcontainers-contrib/features/pre-commit:1\": {},\n-        \"./features/serenity\": {\n+        \"./features/ladybird\": {\n             \"llvm_version\": 18,\n-            \"enable_ladybird\": true,\n-            \"enable_serenity\": true\n         },\n         \"ghcr.io/devcontainers/features/desktop-lite\": {\n             \"password\": \"vscode\","
    },
    {
      "filename": ".devcontainer/features/ladybird/devcontainer-feature.json",
      "status": "added",
      "patch": "@@ -0,0 +1,18 @@\n+{\n+    \"name\": \"Ladybird Development\",\n+    \"id\": \"ladybird\",\n+    \"version\": \"2.0.0\",\n+    \"description\": \"Enable development of Ladybird libraries and applications\",\n+    \"options\": {\n+        \"llvm_version\": {\n+            \"type\": \"string\",\n+            \"proposals\": [\n+                17,\n+                18,\n+                \"trunk\"\n+            ],\n+            \"default\": 18,\n+            \"description\": \"Select LLVM compiler version to use\"\n+        }\n+    }\n+}"
    },
    {
      "filename": ".devcontainer/features/ladybird/install.sh",
      "status": "renamed",
      "patch": "@@ -4,9 +4,6 @@ set -e\n # Feature options\n \n LLVM_VERSION=${LLVM_VERSION:-18}\n-ENABLE_LADYBIRD=${ENABLE_LADYBIRD:-true}\n-ENABLE_SERENITY=${ENABLE_SERENITY:-true}\n-\n ### Check distro\n \n if [ ! -f /etc/lsb-release ]; then\n@@ -31,13 +28,7 @@ install_llvm_key() {\n ### Install packages\n \n apt update -y\n-apt install -y build-essential cmake ninja-build ccache shellcheck\n-if [ \"${ENABLE_LADYBIRD}\" = \"true\" ]; then\n-    apt install -y libgl1-mesa-dev qt6-base-dev qt6-tools-dev-tools qt6-wayland qt6-multimedia-dev\n-fi\n-if [ \"${ENABLE_SERENITY}\" = \"true\" ]; then\n-    apt install -y curl libmpfr-dev libmpc-dev libgmp-dev e2fsprogs genext2fs qemu-system-gui qemu-system-x86 qemu-utils rsync unzip texinfo libssl-dev\n-fi\n+apt install -y build-essential cmake ninja-build ccache shellcheck libgl1-mesa-dev qt6-base-dev qt6-tools-dev-tools qt6-wayland qt6-multimedia-dev\n \n ### Ensure new enough host compiler is available\n "
    },
    {
      "filename": ".devcontainer/features/serenity/devcontainer-feature.json",
      "status": "removed",
      "patch": "@@ -1,30 +0,0 @@\n-{\n-    \"name\": \"Serenity Development\",\n-    \"id\": \"serenity\",\n-    \"version\": \"1.0.1\",\n-    \"description\": \"Enable development of Serenity and Lagom libraries and applications\",\n-    \"options\": {\n-        \"llvm_version\": {\n-            \"type\": \"string\",\n-            \"proposals\": [\n-                15,\n-                16,\n-                17,\n-                18,\n-                \"trunk\"\n-            ],\n-            \"default\": 18,\n-            \"description\": \"Select LLVM compiler version to use\"\n-        },\n-        \"enable_ladybird\": {\n-            \"type\": \"boolean\",\n-            \"default\": true,\n-            \"description\": \"Install Qt6 packages for Ladybird development\"\n-        },\n-        \"enable_serenity\": {\n-            \"type\": \"boolean\",\n-            \"default\": true,\n-            \"description\": \"Install packages for SerenityOS development\"\n-        }\n-    }\n-}"
    },
    {
      "filename": ".devcontainer/optimized/devcontainer.json",
      "status": "modified",
      "patch": "@@ -6,6 +6,6 @@\n // do not need to install all the prerequsite dependencies from scratch,\n // getting you into your development environment faster!\n {\n-    \"name\": \"SerenityOS (Pre-Built Image)\",\n-    \"image\": \"ghcr.io/serenityos/serenity-devcontainer:base\"\n+    \"name\": \"Ladybird (Pre-Built Image)\",\n+    \"image\": \"ghcr.io/ladybirdwebbrowser/ladybird-devcontainer:base\"\n }"
    },
    {
      "filename": ".gitattributes",
      "status": "modified",
      "patch": "@@ -10,6 +10,3 @@\n *.pgm binary\n *.png binary\n *.ppm binary\n-\n-# Prevent port patches from being normalized\n-/Ports/**/patches/* -text"
    },
    {
      "filename": ".github/CODEOWNERS",
      "status": "modified",
      "patch": "@@ -1,14 +1,9 @@\n /AK/CircularBuffer.* @timschumi\n /AK/MaybeOwned.h @timschumi\n /AK/*Stream.* @timschumi\n-/Kernel/Devices/Audio @GMTA\n /Lagom/Tools/CodeGenerators/LibWeb @AtkinsSJ\n-/Ports @timschumi\n /Tests/LibCompress @timschumi\n /Toolchain @BertalanD\n-/Userland/Applications/Spreadsheet @alimpfard\n-/Userland/BuggieBox @timschumi\n-/Userland/DynamicLoader @BertalanD\n /Userland/Libraries/LibArchive @timschumi\n /Userland/Libraries/LibCompress @timschumi\n /Userland/Libraries/LibCore/File.* @timschumi\n@@ -34,10 +29,8 @@\n /Userland/Services/RequestServer @alimpfard\n /Userland/Services/SQLServer @trflynn89\n /Userland/Services/WebDriver @trflynn89\n-/Userland/Shell @alimpfard\n /Userland/Utilities/gzip.cpp @timschumi\n /Userland/Utilities/lzcat.cpp @timschumi\n-/Userland/Utilities/readelf.cpp @BertalanD\n /Userland/Utilities/sql.cpp @trflynn89\n /Userland/Utilities/tar.cpp @timschumi\n /Userland/Utilities/unzip.cpp @timschumi"
    },
    {
      "filename": ".github/actions/cache-restore/action.yml",
      "status": "modified",
      "patch": "@@ -27,37 +27,15 @@ inputs:\n     description: 'Path to the SerenityOS ccache directory'\n     required: false\n     default: ''\n-  toolchain_ccache_path:\n-    description: 'Path to the toolchain ccache directory'\n-    required: false\n-    default: ''\n   download_cache_path:\n     description: 'Path to the download cache directory'\n     required: false\n     default: 'caches'\n \n outputs:\n-  qemu_cache_primary_key:\n-    description: 'Primary key for the AArch64 QEMU cache'\n-    value: ${{ steps.qemu-cache.outputs.cache-primary-key }}\n-  qemu_cache_hit:\n-    description: 'Whether the AArch64 QEMU cache was hit'\n-    value: ${{ steps.qemu-cache.outputs.cache-hit }}\n   serenity_ccache_primary_key:\n     description: 'Primary key for the Serenity ccache'\n     value: ${{ steps.serenity-ccache.outputs.cache-primary-key }}\n-  toolchain_ccache_primary_key:\n-    description: 'Primary key for the Toolchain ccache'\n-    value: ${{ steps.toolchain-ccache.outputs.cache-primary-key }}\n-  toolchain_prebuilt_primary_key:\n-    description: 'Primary key for the toolchain cache'\n-    value: ${{ steps.toolchain-prebuilt.outputs.cache-primary-key }}\n-  toolchain_prebuilt_path:\n-    description: 'Path to the prebuilt toolchain'\n-    value: ${{ steps.toolchain-stamps.outputs.toolchain_path }}\n-  toolchain_prebuilt_hit:\n-    description: 'Whether the toolchain prebuilt cache was hit'\n-    value: ${{ steps.toolchain-prebuilt.outputs.cache-hit }}\n \n runs:\n   using: \"composite\"\n@@ -68,64 +46,6 @@ runs:\n       run: |\n         echo \"timestamp=$(date -u \"+%Y%m%d%H%M_%S\")\" >> \"$GITHUB_OUTPUT\"\n \n-    - name: 'Toolchain Stamps'\n-      shell: bash\n-      id: 'toolchain-stamps'\n-      if: ${{ inputs.arch != 'Lagom' }}\n-      run: |\n-        if ${{ inputs.toolchain == 'Clang' }} ; then\n-          echo \"toolchain_path=${{ github.workspace }}/Toolchain/Local/clang\" >> \"$GITHUB_OUTPUT\"\n-\n-          hashed_files='${{ hashFiles('Toolchain/BuildClang.sh', 'Toolchain/Patches/llvm/*.patch', 'Toolchain/CMake/*.cmake', 'Userland/Libraries/LibC/**/*.h') }}'\n-          echo \"toolchain_stamp=${hashed_files}\" >> \"$GITHUB_OUTPUT\"\n-\n-          source $GITHUB_WORKSPACE/Ports/llvm/package.sh\n-          echo \"toolchain_version=$(echo ${version} | cut -d'.' -f1)\" >> \"$GITHUB_OUTPUT\"\n-        elif ${{ inputs.toolchain == 'GNU' }} ; then\n-          echo \"toolchain_path=${{ github.workspace }}/Toolchain/Local/${{ inputs.arch }}\" >> $GITHUB_OUTPUT\n-\n-          hashed_files='${{ hashFiles('Toolchain/BuildGNU.sh', 'Toolchain/Patches/binutils/*.patch', 'Toolchain/Patches/gcc/*.patch', 'Userland/Libraries/LibC/**/*.h') }}'\n-          echo \"toolchain_stamp=${hashed_files}\" >> $GITHUB_OUTPUT\n-\n-          source $GITHUB_WORKSPACE/Ports/gcc/package.sh\n-          echo \"toolchain_version=$(echo ${version} | cut -d'.' -f1)\" >> $GITHUB_OUTPUT\n-        fi\n-\n-    - name: 'Toolchain Prebuilt Cache'\n-      uses: actions/cache/restore@v4\n-      id: 'toolchain-prebuilt'\n-      if: ${{ inputs.arch != 'Lagom' }}\n-      with:\n-        path: ${{ steps.toolchain-stamps.outputs.toolchain_path }}\n-        key: '\"toolchain\" | \"${{ inputs.arch }}\" | \"${{ inputs.toolchain }}\" | \"${{ steps.toolchain-stamps.outputs.toolchain_stamp }}\"'\n-\n-    # FIXME: Remove manually built QEMU when we bump QEMU to >=8.1.x\n-    - name: 'AArch64 QEMU Cache'\n-      id: 'qemu-cache'\n-      uses: actions/cache/restore@v4\n-      if: ${{ inputs.arch == 'aarch64' }}\n-      with:\n-        path: ${{ github.workspace }}/Toolchain/Local/qemu\n-        key: ${{ runner.os }}-qemu-${{ hashFiles('Ports/qemu/version.sh', 'Toolchain/BuildQemu.sh') }}\n-\n-    - name: 'Toolchain Compiler Cache'\n-      uses: actions/cache/restore@v4\n-      id: 'toolchain-ccache'\n-      if: ${{ inputs.toolchain_ccache_path != '' }}\n-      with:\n-          path: ${{ inputs.toolchain_ccache_path }}\n-          key: '\"toolchain ccache\" | \"${{ inputs.arch }}\" | \"${{ inputs.toolchain }}\" | \"${{ steps.toolchain-stamps.outputs.toolchain_version }}\" | \"${{ inputs.ccache_version }}\" | ${{ steps.date-stamp.outputs.timestamp }}'\n-          restore-keys: |\n-            \"toolchain ccache\" | \"${{ inputs.arch }}\" | \"${{ inputs.toolchain }}\" | \"${{ steps.toolchain-stamps.outputs.toolchain_version }}\" | \"${{ inputs.ccache_version }}\"\n-\n-    - name: 'Configure Toolchain ccache'\n-      if: ${{ inputs.toolchain_ccache_path != '' }}\n-      shell: bash\n-      run: |\n-          CCACHE_DIR=${{ inputs.toolchain_ccache_path }} ccache -M 0\n-          CCACHE_DIR=${{ inputs.toolchain_ccache_path }} ccache -s\n-          CCACHE_DIR=${{ inputs.toolchain_ccache_path }} ccache -z\n-\n     - name: 'Serenity Compiler Cache'\n       uses: actions/cache/restore@v4\n       id: 'serenity-ccache'"
    },
    {
      "filename": ".github/actions/cache-save/action.yml",
      "status": "modified",
      "patch": "@@ -7,14 +7,6 @@ inputs:\n     description: 'Target Architecture to restore caches for'\n     required: false\n     default: 'x86_64'\n-  qemu_cache_primary_key:\n-    description: 'Primary key for the AArch64 QEMU cache'\n-    required: false\n-    default: ''\n-  qemu_cache_hit:\n-    description: 'Whether the AArch64 QEMU cache was hit'\n-    required: false\n-    default: false\n   serenity_ccache_path:\n     description: 'Path to the SerenityOS ccache directory'\n     required: false\n@@ -23,54 +15,10 @@ inputs:\n     description: 'Primary key for the Serenity ccache'\n     required: false\n     default: ''\n-  toolchain_ccache_path:\n-    description: 'Path to the toolchain ccache directory'\n-    required: false\n-    default: ''\n-  toolchain_ccache_primary_key:\n-    description: 'Primary key for the Toolchain ccache'\n-    required: false\n-    default: ''\n-  toolchain_prebuilt_path:\n-    description: 'Path to the prebuilt toolchain'\n-    required: false\n-    default: ''\n-  toolchain_prebuilt_primary_key:\n-    description: 'Primary key for the toolchain cache'\n-    required: false\n-    default: ''\n-  toolchain_prebuilt_hit:\n-    description: 'Whether the toolchain prebuilt cache was hit'\n-    required: false\n-    default: false\n \n runs:\n   using: \"composite\"\n   steps:\n-    - name: 'Toolchain Prebuilt Cache'\n-      uses: actions/cache/save@v4\n-      # Do not waste time and storage space by updating the toolchain cache from a PR,\n-      # as it would be discarded after being merged anyway.\n-      if: ${{ github.event_name != 'pull_request' && !inputs.toolchain_prebuilt_hit && inputs.arch != 'Lagom' }}\n-      with:\n-        path: ${{ inputs.toolchain_prebuilt_path }}\n-        key: ${{ inputs.toolchain_prebuilt_primary_key }}\n-\n-    # FIXME: Remove manually built QEMU when we bump QEMU to >=8.1.x\n-    - name: 'AArch64 QEMU Cache'\n-      uses: actions/cache/save@v4\n-      if: ${{ github.event_name != 'pull_request' && !inputs.qemu_cache_hit && inputs.arch == 'aarch64' }}\n-      with:\n-        path: ${{ github.workspace }}/Toolchain/Local/qemu\n-        key: ${{ inputs.qemu_cache_primary_key }}\n-\n-    - name: 'Toolchain Compiler Cache'\n-      uses: actions/cache/save@v4\n-      if: ${{ github.event_name != 'pull_request' && inputs.toolchain_ccache_path != '' }}\n-      with:\n-        path: ${{ inputs.toolchain_ccache_path }}\n-        key: ${{ inputs.toolchain_ccache_primary_key }}\n-\n     - name: 'Prune obsolete ccache files'\n       shell: bash\n       if: ${{ inputs.serenity_ccache_path != '' }}"
    },
    {
      "filename": ".github/actions/setup/action.yml",
      "status": "modified",
      "patch": "@@ -42,44 +42,17 @@ runs:\n         echo \"${{ github.workspace }}/wabt-1.0.23/bin\" >> $GITHUB_PATH\n \n     - name: 'Install JS dependencies'\n-      if: ${{ inputs.os == 'Linux' || inputs.os == 'Serenity' }}\n+      if: ${{ inputs.os == 'Linux' }}\n       shell: bash\n       run: sudo npm install -g prettier@2.7.1\n \n     - name: 'Install Python dependencies'\n-      if: ${{ inputs.os == 'Linux' || inputs.os == 'Serenity' }}\n+      if: ${{ inputs.os == 'Linux' }}\n       shell: bash\n       run: |\n         python3 -m pip install --upgrade pip\n         pip3 install flake8 requests six\n \n-    - name: 'Install Dependencies'\n-      if: ${{ inputs.os == 'Serenity' }}\n-      shell: bash\n-      run: |\n-        set -e\n-\n-        wget -O - https://apt.llvm.org/llvm-snapshot.gpg.key | sudo apt-key add -\n-        sudo add-apt-repository 'deb http://apt.llvm.org/jammy/ llvm-toolchain-jammy-18 main'\n-\n-        sudo add-apt-repository ppa:ubuntu-toolchain-r/test\n-\n-        sudo apt-get update\n-        sudo apt-get install clang-format-18 ccache e2fsprogs gcc-13 g++-13 libstdc++-13-dev libmpfr-dev libmpc-dev ninja-build optipng qemu-utils qemu-system-i386 unzip generate-ninja libegl1-mesa-dev\n-\n-        if ${{ inputs.arch == 'aarch64' }}; then\n-            # FIXME: Remove this when we no longer build our own Qemu binary.\n-            sudo apt-get install libgtk-3-dev libpixman-1-dev libsdl2-dev libslirp-dev\n-        fi\n-\n-    - name: Enable KVM group perms\n-      if: ${{ inputs.os == 'Serenity' }}\n-      shell: bash\n-      run: |\n-        echo 'KERNEL==\"kvm\", GROUP=\"kvm\", MODE=\"0666\", OPTIONS+=\"static_node=kvm\"' | sudo tee /etc/udev/rules.d/99-kvm4all.rules\n-        sudo udevadm control --reload-rules\n-        sudo udevadm trigger --name-match=kvm\n-\n     - name: 'Install Dependencies'\n       if: ${{ inputs.os == 'macOS' || inputs.os == 'Android' }}\n       shell: bash"
    },
    {
      "filename": ".github/workflows/ci.yml",
      "status": "modified",
      "patch": "@@ -7,51 +7,29 @@ concurrency:\n   cancel-in-progress: true\n \n jobs:\n-  SerenityOS:\n-    if: github.repository == 'SerenityOS/serenity'\n-\n-    strategy:\n-      fail-fast: false\n-      matrix:\n-        toolchain: ['GNU', 'Clang']\n-        os: [ubuntu-22.04]\n-        arch: ['x86_64']\n-        debug_options: ['NORMAL_DEBUG']\n-        include:\n-          - toolchain: 'GNU'\n-            os: ubuntu-22.04\n-            arch: 'aarch64'\n-            debug_options: 'NORMAL_DEBUG'\n-\n-          - toolchain: 'GNU'\n-            os: ubuntu-22.04\n-            arch: 'x86_64'\n-            debug_options: 'ALL_DEBUG'\n-\n-    uses: ./.github/workflows/serenity-template.yml\n-    with:\n-      toolchain: ${{ matrix.toolchain }}\n-      os: ${{ matrix.os }}\n-      arch: ${{ matrix.arch }}\n-      debug_options: ${{ matrix.debug_options }}\n-\n   Lagom:\n-    if: github.repository == 'SerenityOS/serenity'\n+    if: github.repository == 'LadybirdWebBrowser/ladybird'\n \n     strategy:\n       fail-fast: false\n       matrix:\n         os_name: ['Linux']\n         os: [ubuntu-22.04]\n         fuzzer: ['NO_FUZZ', 'FUZZ']\n+        toolchain: ['Clang']\n         include:\n           - os_name: 'macOS'\n             os: macos-14\n             fuzzer: 'NO_FUZZ'\n+            toolchain: 'Clang'\n+          - os_name: 'Linux'\n+            os: ubuntu-22.04\n+            fuzzer: 'NO_FUZZ'\n+            toolchain: 'GNU'\n \n     uses: ./.github/workflows/lagom-template.yml\n     with:\n-      toolchain: 'Clang'\n+      toolchain: ${{ matrix.toolchain }}\n       os_name: ${{ matrix.os_name }}\n       os: ${{ matrix.os }}\n       fuzzer: ${{ matrix.fuzzer }}"
    },
    {
      "filename": ".github/workflows/dev-container.yml",
      "status": "modified",
      "patch": "@@ -17,7 +17,7 @@ permissions:\n \n jobs:\n   build:\n-    if: github.repository == 'SerenityOS/serenity'\n+    if: github.repository == 'LadybirdWebBrowser/ladybird'\n     runs-on: ubuntu-latest\n     steps:\n \n@@ -34,6 +34,6 @@ jobs:\n       - name: Build Base Dev Container Image\n         uses: devcontainers/ci@v0.3\n         with:\n-          imageName: ghcr.io/serenityos/serenity-devcontainer\n+          imageName: ghcr.io/ladybirdwebbrowser/ladybird-devcontainer\n           imageTag: base,latest\n           push: always"
    },
    {
      "filename": ".github/workflows/discord.yml",
      "status": "removed",
      "patch": "@@ -1,17 +0,0 @@\n-name: Discord notifications\n-\n-on: [push, pull_request_target]\n-\n-jobs:\n-  notify_discord:\n-    runs-on: ubuntu-22.04\n-    if: always() && github.repository == 'SerenityOS/serenity' && (github.event_name == 'pull_request_target' || (github.event_name == 'push' && github.ref == 'refs/heads/master'))\n-\n-    steps:\n-      - name: Discord action notification\n-        env:\n-          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK }}\n-          CUSTOM_GITHUB_EVENT_NAME: ${{ github.event_name == 'pull_request_target' && 'pull_request' || github.event_name }} # fake the event type as discord doesn't know how to parse the special pull_request_target context\n-        uses: IdanHo/action-discord@754598254f288e6d8e9fca637832e3c163515ba8\n-        # FIXME: Find a way to notify on 'ready_for_review', but rate-limited to once/twice per day.\n-        if: ${{ (github.event['pull_request'] && github.event['action'] == 'opened') || github.event['commits'] }}"
    },
    {
      "filename": ".github/workflows/label-pull-requests.yml",
      "status": "modified",
      "patch": "@@ -12,7 +12,7 @@ on:\n jobs:\n   label_pull_request:\n     runs-on: ubuntu-22.04\n-    if: always() && github.repository == 'SerenityOS/serenity'\n+    if: always() && github.repository == 'LadybirdWebBrowser/ladybird'\n     \n     steps:\n       - uses: actions/checkout@v4"
    },
    {
      "filename": ".github/workflows/lagom-template.yml",
      "status": "modified",
      "patch": "@@ -178,11 +178,7 @@ jobs:\n         working-directory: ${{ github.workspace }}\n         run: |\n           set -e\n-          ./Meta/check-markdown.sh\n-          ./Meta/lint-gml-format.sh\n           git ls-files '*.ipc' | xargs ./Meta/Lagom/Build/bin/IPCMagicLinter\n         env:\n-          MARKDOWN_CHECK_BINARY: ./Meta/Lagom/Build/bin/markdown-check\n-          GML_FORMAT: ./Meta/Lagom/Build/bin/gml-format\n           ASAN_OPTIONS: 'strict_string_checks=1:check_initialization_order=1:strict_init_order=1:detect_stack_use_after_return=1:allocator_may_return_null=1'\n           UBSAN_OPTIONS: 'print_stacktrace=1:print_summary=1:halt_on_error=1'"
    },
    {
      "filename": ".github/workflows/libjs-test262.yml",
      "status": "modified",
      "patch": "@@ -8,7 +8,8 @@ env:\n jobs:\n   run_and_update_results:\n     runs-on: self-hosted\n-    if: always() && github.repository == 'SerenityOS/serenity' && github.ref == 'refs/heads/master'\n+    if: false\n+    #if: always() && github.repository == 'LadybirdWebBrowser/ladybird' && github.ref == 'refs/heads/master'\n \n     concurrency: libjs-test262\n \n@@ -18,7 +19,7 @@ jobs:\n           echo \"Cleaning up previous run\"\n           rm -rf \"${{ github.workspace }}/*\"\n \n-      - name: Checkout SerenityOS/serenity\n+      - name: Checkout LadybirdWebBrowser/ladybird\n         uses: actions/checkout@v4\n \n       - name: Checkout SerenityOS/libjs-test262"
    },
    {
      "filename": ".github/workflows/lintcommits.yml",
      "status": "modified",
      "patch": "@@ -8,11 +8,12 @@ on: [pull_request_target]\n jobs:\n   lint_commits:\n     runs-on: ubuntu-22.04\n-    if: always() && github.repository == 'SerenityOS/serenity'\n+    if: always() && github.repository == 'LadybirdWebBrowser/ladybird'\n \n     steps:\n       - name: Lint PR commits\n         uses: actions/github-script@v7\n+        github-token: ${{ secrets.LADYBIRD_BOT_TOKEN }}\n         with:\n           script: |\n             const excludedBotIds = [\n@@ -89,6 +90,6 @@ jobs:\n         if: ${{ failure() && !github.event.pull_request.draft }}\n         uses: IdanHo/comment-on-pr@63ea2bf352997c66e524b8b5be7a79163fb3a88a\n         env:\n-          GITHUB_TOKEN: ${{ secrets.BUGGIEBOT_TOKEN }}\n+          GITHUB_TOKEN: ${{ secrets.LADYBIRD_BOT_TOKEN }}\n         with:\n-          msg: \"Hello!\\n\\nOne or more of the commit messages in this PR do not match the SerenityOS [code submission policy](https://github.com/SerenityOS/serenity/blob/master/CONTRIBUTING.md#code-submission-policy), please check the `lint_commits` CI job for more details on which commits were flagged and why.\\nPlease do not close this PR and open another, instead modify your commit message(s) with [git commit --amend](https://docs.github.com/en/pull-requests/committing-changes-to-your-project/creating-and-editing-commits/changing-a-commit-message) and force push those changes to update this PR.\"\n+          msg: \"Hello!\\n\\nOne or more of the commit messages in this PR do not match the SerenityOS [code submission policy](https://github.com/LadybirdWebBrowser/ladybird/blob/master/CONTRIBUTING.md#code-submission-policy), please check the `lint_commits` CI job for more details on which commits were flagged and why.\\nPlease do not close this PR and open another, instead modify your commit message(s) with [git commit --amend](https://docs.github.com/en/pull-requests/committing-changes-to-your-project/creating-and-editing-commits/changing-a-commit-message) and force push those changes to update this PR.\""
    },
    {
      "filename": ".github/workflows/manpages.yml",
      "status": "removed",
      "patch": "@@ -1,28 +0,0 @@\n-name: Generate man pages\n-\n-on:\n-  push:\n-    paths:\n-      - \"Base/usr/share/man/**\"\n-      - \"Meta/Websites/man.serenityos.org/**\"\n-\n-jobs:\n-  convert_using_pandoc:\n-    runs-on: ubuntu-22.04\n-    if: always() && github.repository == 'SerenityOS/serenity' && github.ref == 'refs/heads/master'\n-    steps:\n-      - uses: actions/checkout@v4\n-      - uses: r-lib/actions/setup-pandoc@v2\n-        with:\n-          pandoc-version: '2.13'\n-      - name: Actually build website\n-        run: ./Meta/build-manpages-website.sh\n-      - name: Deploy to GitHub pages\n-        uses: JamesIves/github-pages-deploy-action@v4.6.1\n-        with:\n-          git-config-name: BuggieBot\n-          git-config-email: buggiebot@serenityos.org\n-          branch: master\n-          repository-name: SerenityOS/manpages-website\n-          token: ${{ secrets.BUGGIEBOT_TOKEN }}\n-          folder: output"
    },
    {
      "filename": ".github/workflows/nightly-android.yml",
      "status": "modified",
      "patch": "@@ -18,7 +18,7 @@ concurrency:\n jobs:\n   CI:\n     runs-on: ${{ matrix.os }}\n-    if: always() && github.repository == 'SerenityOS/serenity' && github.ref == 'refs/heads/master'\n+    if: always() && github.repository == 'LadybirdWebBrowser/ladybird' && github.ref == 'refs/heads/master'\n     strategy:\n       fail-fast: false\n       matrix:"
    },
    {
      "filename": ".github/workflows/nightly.yml",
      "status": "removed",
      "patch": "@@ -1,36 +0,0 @@\n-name: Nightly CI\n-\n-on:\n-  # Automatically run at the end of every day.\n-  schedule:\n-    - cron: '0 0 * * *'\n-\n-concurrency:\n-  group: ${{ github.workflow }}-${{ github.head_ref || format('{0}-{1}', github.ref, github.run_number) }}\n-  cancel-in-progress: true\n-\n-jobs:\n-  CodeCoverage:\n-    if: always() && github.repository == 'SerenityOS/serenity' && github.ref == 'refs/heads/master'\n-\n-    strategy:\n-      fail-fast: false\n-\n-    uses: ./.github/workflows/serenity-template.yml\n-    with:\n-      toolchain: 'Clang'\n-      os: ubuntu-22.04\n-      arch: 'x86_64'\n-      coverage: 'ON'\n-\n-  LagomGCC:\n-    if: always() && github.repository == 'SerenityOS/serenity' && github.ref == 'refs/heads/master'\n-\n-    strategy:\n-      fail-fast: false\n-\n-    uses: ./.github/workflows/lagom-template.yml\n-    with:\n-      toolchain: 'GNU'\n-      os_name: 'Linux'\n-      os: ubuntu-22.04"
    },
    {
      "filename": ".github/workflows/serenity-js-artifacts.yml",
      "status": "modified",
      "patch": "@@ -9,7 +9,7 @@ env:\n jobs:\n   build-and-package:\n     runs-on: ${{ matrix.os }}\n-    if: always() && github.repository == 'SerenityOS/serenity' && github.ref == 'refs/heads/master'\n+    if: always() && github.repository == 'LadybirdWebBrowser/ladybird' && github.ref == 'refs/heads/master'\n     strategy:\n       fail-fast: false\n       matrix:\n@@ -26,7 +26,7 @@ jobs:\n       cancel-in-progress: true\n \n     steps:\n-      - name: Checkout SerenityOS/serenity\n+      - name: Checkout LadybirdWebBrowser/ladybird\n         uses: actions/checkout@v4\n \n       - name: \"Set up environment\"\n@@ -88,5 +88,5 @@ jobs:\n         uses: actions/upload-artifact@v4\n         with:\n           name: serenity-js-${{ matrix.package_type }}\n-          path: Build/serenity-js*.tar.gz\n+          path: Build/ladybird-js*.tar.gz\n           retention-days: 7"
    },
    {
      "filename": ".github/workflows/serenity-template.yml",
      "status": "removed",
      "patch": "@@ -1,209 +0,0 @@\n-name: SerenityOS Template\n-\n-on:\n-  workflow_call:\n-    inputs:\n-        toolchain:\n-          required: true\n-          type: string\n-        os:\n-          required: true\n-          type: string\n-        arch:\n-          required: true\n-          type: string\n-        debug_options:\n-          required: false\n-          type: string\n-          default: 'NORMAL_DEBUG'\n-        coverage:\n-          required: false\n-          type: string\n-          default: 'OFF'\n-\n-env:\n-  # runner.workspace = /home/runner/work/serenity\n-  # github.workspace = /home/runner/work/serenity/serenity\n-  SERENITY_SOURCE_DIR: ${{ github.workspace }}\n-  SERENITY_CCACHE_DIR: ${{ github.workspace }}/.ccache\n-  TOOLCHAIN_CCACHE_DIR: ${{ github.workspace }}/Toolchain/.ccache\n-\n-jobs:\n-  CI:\n-    runs-on: ${{ inputs.os }}\n-\n-    steps:\n-      # Pull requests can trail behind `master` and can cause breakage if merging before running the CI checks on an updated branch.\n-      # Luckily, GitHub creates and maintains a merge branch that is updated whenever the target or source branch is modified. By\n-      # checking this branch out, we gain a stabler `master` at the cost of reproducibility.\n-      - uses: actions/checkout@v4\n-        if: ${{ github.event_name != 'pull_request' }}\n-\n-      - uses: actions/checkout@v4\n-        if: ${{ github.event_name == 'pull_request' }}\n-        with:\n-          ref: refs/pull/${{ github.event.pull_request.number }}/merge\n-\n-      - name: Set Up Environment\n-        uses: ./.github/actions/setup\n-        with:\n-          os: 'Serenity'\n-          arch: ${{ inputs.arch }}\n-\n-      # === PREPARE FOR BUILDING ===\n-\n-      - name: Lint\n-        run: ${{ github.workspace }}/Meta/lint-ci.sh\n-\n-      - name: Restore Caches\n-        uses: ./.github/actions/cache-restore\n-        id: 'cache-restore'\n-        with:\n-          os: 'Serenity'\n-          arch: ${{ inputs.arch }}\n-          toolchain: ${{ inputs.toolchain }}\n-          cache_key_extra: ${{ inputs.debug_options }}-COVERAGE_${{ inputs.coverage }}\n-          serenity_ccache_path: ${{ env.SERENITY_CCACHE_DIR }}\n-          toolchain_ccache_path: ${{ env.TOOLCHAIN_CCACHE_DIR }}\n-          download_cache_path: ${{ github.workspace }}/Build/caches\n-\n-      - name: Assign Build Parameters\n-        id: 'build-parameters'\n-        run: |\n-          if ${{ inputs.toolchain == 'Clang' }} ; then\n-            echo \"build_directory=${{ github.workspace }}/Build/${{ inputs.arch }}clang\" >> \"$GITHUB_OUTPUT\"\n-          elif ${{ inputs.toolchain == 'GNU' }} ; then\n-            echo \"build_directory=${{ github.workspace }}/Build/${{ inputs.arch }}\" >> \"$GITHUB_OUTPUT\"\n-          fi\n-\n-      - name: Build Toolchain\n-        if: ${{ !steps.cache-restore.outputs.toolchain_prebuilt_hit }}\n-        run: |\n-          ${{ github.workspace }}/Toolchain/Build${{ inputs.toolchain }}.sh --ci\n-        env:\n-          ARCH: ${{ inputs.arch}}\n-          CCACHE_DIR: ${{ env.TOOLCHAIN_CCACHE_DIR }}\n-\n-      - name: Build AArch64 Qemu\n-        if: ${{ inputs.arch == 'aarch64' && !steps.cache-restore.outputs.qemu_cache_hit }}\n-        run: ${{ github.workspace }}/Toolchain/BuildQemu.sh\n-        env:\n-          CCACHE_DIR: ${{ env.TOOLCHAIN_CCACHE_DIR }}\n-\n-      - name: Create Build Environment\n-        if: ${{ inputs.debug_options == 'ALL_DEBUG' }}\n-        # Build the entire project with all available debug options turned on, to prevent code rot.\n-        # However, it is unwieldy and slow to run tests with them enabled, so we will build twice.\n-        run: |\n-          cmake -S Meta/CMake/Superbuild -B Build/superbuild -GNinja \\\n-            -DSERENITY_ARCH=${{ inputs.arch }} \\\n-            -DSERENITY_TOOLCHAIN=${{ inputs.toolchain }} \\\n-            -DBUILD_LAGOM=ON \\\n-            -DCMAKE_C_COMPILER=gcc-13 \\\n-            -DCMAKE_CXX_COMPILER=g++-13 \\\n-            -DENABLE_ALL_DEBUG_FACILITIES=ON \\\n-            -DENABLE_PCI_IDS_DOWNLOAD=OFF \\\n-            -DENABLE_USB_IDS_DOWNLOAD=OFF\n-        env:\n-          CCACHE_DIR: ${{ env.SERENITY_CCACHE_DIR }}\n-\n-      - name: Create Build Environment\n-        if: ${{ inputs.debug_options == 'NORMAL_DEBUG' }}\n-        working-directory: ${{ github.workspace }}\n-        # Note that we do not set BUILD_LAGOM for the normal debug build\n-        # We build and run the Lagom tests in a separate job, and sanitizer builds take a good while longer than non-sanitized.\n-        run:  |\n-          cmake -S Meta/CMake/Superbuild -B Build/superbuild -GNinja \\\n-            -DSERENITY_ARCH=${{ inputs.arch }} \\\n-            -DSERENITY_TOOLCHAIN=${{ inputs.toolchain }} \\\n-            -DCMAKE_C_COMPILER=gcc-13 \\\n-            -DCMAKE_CXX_COMPILER=g++-13 \\\n-            -DENABLE_UNDEFINED_SANITIZER=ON \\\n-            -DUNDEFINED_BEHAVIOR_IS_FATAL=ON \\\n-            -DENABLE_USERSPACE_COVERAGE_COLLECTION=${{ inputs.coverage }} \\\n-            -DDUMP_REGIONS_ON_CRASH=ON \\\n-            -DENABLE_PCI_IDS_DOWNLOAD=OFF \\\n-            -DENABLE_USB_IDS_DOWNLOAD=OFF\n-        env:\n-          CCACHE_DIR: ${{ env.SERENITY_CCACHE_DIR }}\n-\n-      # === BUILD ===\n-\n-      - name: Build Serenity and Tests\n-        working-directory: ${{ github.workspace }}/Build/superbuild\n-        run: cmake --build .\n-        env:\n-          CCACHE_DIR: ${{ env.SERENITY_CCACHE_DIR }}\n-\n-      - name: Save Caches\n-        uses: ./.github/actions/cache-save\n-        with:\n-          arch: ${{ inputs.arch }}\n-          qemu_cache_primary_key: ${{ steps.cache-restore.outputs.qemu_cache_primary_key }}\n-          qemu_cache_hit: ${{ steps.cache-restore.outputs.qemu_cache_hit }}\n-          serenity_ccache_path: ${{ env.SERENITY_CCACHE_DIR }}\n-          serenity_ccache_primary_key: ${{ steps.cache-restore.outputs.serenity_ccache_primary_key }}\n-          toolchain_ccache_path: ${{ env.TOOLCHAIN_CCACHE_DIR }}\n-          toolchain_ccache_primary_key: ${{ steps.cache-restore.outputs.toolchain_ccache_primary_key }}\n-          toolchain_prebuilt_path: ${{ steps.cache-restore.outputs.toolchain_prebuilt_path }}\n-          toolchain_prebuilt_primary_key: ${{ steps.cache-restore.outputs.toolchain_prebuilt_primary_key }}\n-          toolchain_prebuilt_hit: ${{ steps.cache-restore.outputs.toolchain_prebuilt_hit }}\n-\n-      # === TEST ===\n-\n-      - name: Create Serenity Rootfs\n-        if: ${{ inputs.debug_options == 'NORMAL_DEBUG' }}\n-        working-directory: ${{ steps.build-parameters.outputs.build_directory }}\n-        run: ninja install && ninja qemu-image\n-\n-      - name: Run On-Target Tests\n-        if: ${{ inputs.debug_options == 'NORMAL_DEBUG' && inputs.arch != 'aarch64' }}\n-        working-directory: ${{ steps.build-parameters.outputs.build_directory }}\n-        env:\n-          SERENITY_QEMU_CPU: \"max,vmx=off\"\n-          SERENITY_KERNEL_CMDLINE: \"graphics_subsystem_mode=off panic=shutdown system_mode=self-test\"\n-          SERENITY_RUN: \"ci\"\n-        run: |\n-          echo \"::group::ninja run # Qemu output\"\n-          ninja run\n-          echo \"::endgroup::\"\n-          echo \"::group::Verify Output File\"\n-          mkdir fsmount\n-          sudo mount -t ext2 -o loop,rw _disk_image fsmount\n-          echo \"Results: \"\n-          sudo cat fsmount/home/anon/test-results.log\n-          if ! sudo grep -q \"Failed: 0\" fsmount/home/anon/test-results.log\n-          then\n-            echo \"::error:: :^( Tests failed, failing job\"\n-            exit 1\n-          fi\n-          echo \"::endgroup::\"\n-        timeout-minutes: 60\n-\n-      - name: Print Target Logs\n-        # Extremely useful if Serenity hangs trying to run one of the tests\n-        if: ${{ !cancelled() && inputs.debug_options == 'NORMAL_DEBUG'}}\n-        working-directory: ${{ steps.build-parameters.outputs.build_directory }}\n-        run: '[ ! -e debug.log ] || cat debug.log'\n-\n-      # === COVERAGE ===\n-\n-      - name: Aggregate Coverage Results\n-        if: ${{ inputs.coverage == 'ON' }}\n-        working-directory: ${{ github.workspace }}\n-        run: ./Meta/analyze-qemu-coverage.sh\n-        env:\n-          SERENITY_TOOLCHAIN: ${{ matrix.toolchain }}\n-          SERENITY_ARCH: ${{ matrix.arch }}\n-\n-      # FIXME: Deploy the static html pages somewhere\n-      # FIXME: Alter script to also (instead?) produce a raw coverage.txt file for ingestion into sonar cloud\n-      # Note: tmp_profile_data/Coverage.profdata has the entire combined profile data, but creating the raw txt requires\n-      #       all of the instrumented binaries and the profdata file.\n-      - name: Upload Coverage Results\n-        if: ${{ inputs.coverage == 'ON' }}\n-        uses: actions/upload-artifact@v4\n-        with:\n-          name: serenity-coverage\n-          path: ${{ steps.build-parameters.outputs.build_directory }}/reports\n-          retention-days: 90"
    },
    {
      "filename": ".github/workflows/social-media.yml",
      "status": "removed",
      "patch": "@@ -1,41 +0,0 @@\n-name: Social media notifications\n-\n-on: [ push ]\n-\n-jobs:\n-  notify_twitter:\n-    runs-on: ubuntu-22.04\n-    if: always() && github.repository == 'SerenityOS/serenity' && github.ref == 'refs/heads/master'\n-\n-    steps:\n-      - uses: actions/checkout@v4\n-      - uses: actions/setup-node@v4\n-        with:\n-          node-version: '14'\n-      - run: npm i twit\n-      - run: |\n-          node ${{ github.workspace }}/Meta/tweet-commits.js << 'EOF'\n-          ${{ toJSON(github.event) }}\n-          EOF\n-        env:\n-          CONSUMER_KEY: ${{ secrets.CONSUMER_KEY }}\n-          CONSUMER_SECRET: ${{ secrets.CONSUMER_SECRET }}\n-          ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }}\n-          ACCESS_TOKEN_SECRET: ${{ secrets.ACCESS_TOKEN_SECRET }}\n-\n-  notify_mastodon:\n-    runs-on: ubuntu-22.04\n-    if: always() && github.repository == 'SerenityOS/serenity' && github.ref == 'refs/heads/master'\n-\n-    steps:\n-      - uses: actions/checkout@v4\n-      - uses: actions/setup-node@v4\n-        with:\n-          node-version: '14'\n-      - run: npm i mastodon\n-      - run: |\n-          node ${{ github.workspace }}/Meta/toot-commits.js << 'EOF'\n-          ${{ toJSON(github.event) }}\n-          EOF\n-        env:\n-          ACCESS_TOKEN: ${{ secrets.MASTODON_ACCESS_TOKEN }}"
    },
    {
      "filename": ".github/workflows/wasm.yml",
      "status": "modified",
      "patch": "@@ -10,11 +10,11 @@ concurrency: wasm\n jobs:\n   build:\n     runs-on: ubuntu-22.04\n-    if: github.repository == 'SerenityOS/serenity'\n+    if: false\n     strategy:\n       fail-fast: false\n     steps:\n-      - name: Checkout SerenityOS/serenity\n+      - name: Checkout LadybirdWebBrowser/ladybird\n         uses: actions/checkout@v4\n \n       - name: Checkout SerenityOS/libjs-data libjs-wasm"
    },
    {
      "filename": ".pre-commit-config.yaml",
      "status": "modified",
      "patch": "@@ -8,14 +8,6 @@ repos:\n         stages: [ commit ]\n         language: system\n \n-      - id: meta-lint-ports\n-        name: Running Meta/lint-ports.py to ensure changes will pass linting on CI\n-        entry: Meta/lint-ports.py\n-        pass_filenames: false\n-        files: ^Ports/\n-        stages: [ commit ]\n-        language: system\n-\n       - id: meta-lint-commit\n         name: Lint commit message to ensure it will pass the commit linting on CI\n         entry: Meta/lint-commit.sh"
    },
    {
      "filename": "AK/CMakeLists.txt",
      "status": "modified",
      "patch": "@@ -41,7 +41,7 @@ set(AK_SOURCES\n     Utf8View.cpp\n     kmalloc.cpp\n )\n-# AK sources are included from many different places, such as the Kernel, LibC, and Loader\n+# AK sources are included from many different places\n list(TRANSFORM AK_SOURCES PREPEND \"${CMAKE_CURRENT_SOURCE_DIR}/\")\n \n set(AK_SOURCES ${AK_SOURCES} PARENT_SCOPE)"
    },
    {
      "filename": "Base/etc/FileIconProvider.ini",
      "status": "removed",
      "patch": "@@ -1,38 +0,0 @@\n-[Icons]\n-asm=*.S,*.asm\n-cmake=*CMakeLists.txt,*CMakeCache.txt\n-cplusplus=*.cpp,*.cxx,*.cc,*.c++\n-c=*.c\n-font=*.font\n-form=*.frm\n-git=*.gitignore,*.gitattributes,*.gitcredentials,*.mailmap,*.gitmodules,*.gitconfig\n-header=*.h,*.hpp,*.hxx,*.hh,*.h++\n-html=*.html,*.htm\n-css=*.css\n-php=*.php,*.phtml,*.php3,*.php4,*.php5,*.phps\n-sql=*.sql,*.dsql\n-db=*.db,*.sqlite,*.sqlite3\n-ini=*.ini\n-java=*.java\n-javascript=*.js,*.mjs\n-json=*.json\n-wasm=*.wasm\n-library=*.so,*.so.*,*.a\n-markdown=*.md\n-music=*.midi\n-object=*.o,*.obj\n-gml=*.gml\n-palette=*.palette\n-pdf=*.pdf\n-presenter=*.presenter\n-python=*.py\n-ruby=*.rb\n-shell=*.sh,*.bash,*.zsh\n-sound=*.wav,*.flac,*.mp3,*.qoa\n-spreadsheet=*.sheets,*.csv\n-calendar=*.cal\n-text=*.txt\n-truetype=*.ttf\n-pixelpaint=*.pp\n-archive=*.zip,*.gz,*.tar\n-video=*.avi,*.mkv,*.mov,*.mp4,*.webm"
    },
    {
      "filename": "Base/etc/Keyboard.ini",
      "status": "removed",
      "patch": "@@ -1,2 +0,0 @@\n-[Mapping]\n-Keymaps=en-us"
    },
    {
      "filename": "Base/etc/LookupServer.ini",
      "status": "removed",
      "patch": "@@ -1,3 +0,0 @@\n-[DNS]\n-Nameservers=1.1.1.1,1.0.0.1\n-EnableServer=false"
    }
  ],
  "fix_category": "Other",
  "root_cause_category": "Randomness",
  "root_cause_subcategory": NaN
}